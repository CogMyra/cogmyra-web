@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- App-wide tweaks ---------- */
html, body, #root { height: 100%; }
body { @apply antialiased bg-gray-50 text-gray-900; }

/* ---------- Accessibility helpers ---------- */

/* 1) Strong, consistent keyboard focus ring */
:focus-visible {
  outline: 3px solid #2563eb;              /* Tailwind blue-600 */
  outline-offset: 3px;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
}
/* Fallback for browsers without :focus-visible */
@supports not selector(:focus-visible) {
  :focus {
    outline: 3px solid #2563eb;
    outline-offset: 3px;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
  }
}
/* Avoid double outlines when click-focused */
:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

/* 2) Skip link styling (paired with the <a class="skip-link"> in index.html) */
.skip-link {
  position: fixed;               /* more robust than absolute */
  left: 0.75rem;
  top: 0.75rem;
  padding: 0.5rem 0.75rem;
  background: #111827;           /* gray-900 */
  color: #ffffff;
  border-radius: 0.375rem;        /* rounded-md */
  transform: translateY(-150%);
  transition: transform 120ms ease-in-out;
  z-index: 1000;
}
.skip-link:focus,
.skip-link:focus-visible {
  transform: translateY(0);
}

/* 3) Visually-hidden utility */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0);
  white-space: nowrap; border: 0;
}

/* 4) Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}
